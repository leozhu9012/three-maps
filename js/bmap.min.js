"use strict";var baseMap=null,mapTypes={NORMAL:BMAP_NORMAL_MAP,EARTH:BMAP_EARTH_MAP,SATELLITE:BMAP_SATELLITE_MAP},getMapContainer=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return baseMap=new BMapGL.Map(e,n),initFun(baseMap),!1!==n.scrollWheel&&baseMap.enableScrollWheelZoom(!0),n.center&&baseMap.setZoomAndCenter(n.zoom||14,n.center),window.__ksh_map__=baseMap},initFun=function(t){t.setZoomAndCenter=function(e,n){n=toLngLat(n[0],n[1]);t.centerAndZoom(n,e)},t.setCenter=function(e,n){e=toLngLat(e[0],e[1]);t.setCenter(e,n)},t.getPitch=function(){},t.setPitch=function(){},t.getSize=function(){return t.getContainerSize()},t.addLayer=function(e){t.addOverlay(e)},t.add=function(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.addOverlay(e[n]);else t.addOverlay(e)},t.remove=function(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.removeOverlay(e[n]);else t.removeOverlay(e)},t.clearMap=function(){t.clearOverlays()},t.getLayers=function(){return t.getOverlays()},t.setMapTypes=function(e){t.setMapType(mapTypes[e]||mapTypes.NORMAL)}},getMapMarker=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rotation=e.angle,"string"==typeof e.icon&&(e.icon=getMapIcon({image:e.icon})),new BMapGL.Marker(e.position,e)},getMapIcon=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new BMapGL.Icon(e.image,e.size||getSize(23,25),e)},getSize=function(e,n){return new BMapGL.Size(e,n)},getPixel=function(e,n){return new BMapGL.Pixel(e,n)},getMapPolygon=function(e){return new BMapGL.Polygon(e.path,e)},getMapPolyline=function(e){return new BMapGL.Polyline(e.path,e)},toLngLat=function(e,n){return new BMapGL.Point(e,n)},bindEvent={on:function(e,n,t){t.addEventListener(e,function(e){e.lnglat=e.latlng,n&&n(e)})},off:function(e,n,t){t.emoveEventListener(e,n)},hasEvents:function(e,n,t){},clearEvents:function(e,n){},emit:function(e,n,t){}};